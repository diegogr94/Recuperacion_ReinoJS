<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: main.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: main.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { showScene } from './utils/escenas.js';
import { Jugador } from './modules/jugadores.js';
import { REGEX_NOMBRE } from './utils/regex.js';
import { aplicarDescuentoPorRareza, obtenerRarezaAleatoria } from './modules/mercado.js';
import { Enemigo, JefeFinal } from './modules/enemigos.js';
import { batalla } from './modules/ranking.js';


/** @type {Jugador} Instancia del jugador actual. */
let jugador;

/** @type {Array&lt;Object>} Lista temporal de productos seleccionados en el mercado. */
let cesta = [];

/** @type {Array&lt;Enemigo|JefeFinal>} Lista de enemigos a vencer en la secuencia de batalla. */
let enemigosBatalla = [];

/** @type {number} Índice del enemigo actual contra el que se está luchando. */
let indiceCombate = 0;

/** @type {number}  Acumulador de la cantidad total de oro ganado únicamente en las batallas. */
let oroGanadoEnBatallas = 0;

const ERROR_NOMBRE = "Mayúscula y máx 20 letras.";
const ERROR_EXCESO = "La suma total pasa de 110.";
const ERROR_NEGATIVO = "No puede ser negativo.";


/**
 * Inicialización de la aplicación cuando la ventana carga.
 * Carga datos de prueba en localStorage si está vacío y asigna eventos iniciales.
 */
window.onload = () => {

    /**
     * Comprueba si existe un ranking en localStorage. 
     * Si no existe, inyecta un set de datos de prueba para que la tabla no esté vacía.
     */
    function cargarDatosPrueba() {
        const rankingExistente = localStorage.getItem('ranking_final');

        if (!rankingExistente || JSON.parse(rankingExistente).length === 0) {
            const datosPrueba = [
                { idNombre: "Rodas", idPuntos: 950, idDinero: 450, idFecha: "01/01/2026" },
                { idNombre: "Lucía", idPuntos: 840, idDinero: 120, idFecha: "01/01/2026" },
                { idNombre: "Gloria", idPuntos: 120, idDinero: 40, idFecha: "02/01/2026" },
                { idNombre: "Elías", idPuntos: 1100, idDinero: 600, idFecha: "02/01/2026" },
                { idNombre: "Ronic", idPuntos: 750, idDinero: 300, idFecha: "02/01/2026" },
                { idNombre: "Adri", idPuntos: 640, idDinero: 160, idFecha: "02/01/2026" },
                { idNombre: "Rebeca", idPuntos: 500, idDinero: 100, idFecha: "02/01/2026" },
                { idNombre: "Miguel", idPuntos: 990, idDinero: 200, idFecha: "02/01/2026" },
                { idNombre: "Ángel", idPuntos: 430, idDinero: 90, idFecha: "02/01/2026" },
                { idNombre: "Paco Mera", idPuntos: 880, idDinero: 350, idFecha: "02/01/2026" },
                { idNombre: "Pablo", idPuntos: 320, idDinero: 50, idFecha: "02/01/2026" },
                { idNombre: "Gabino", idPuntos: 1050, idDinero: 500, idFecha: "02/01/2026" }
            ];

            localStorage.setItem('ranking_final', JSON.stringify(datosPrueba));
            console.log("Datos de prueba cargados en el Ranking");
        }
    }


    cargarDatosPrueba();

    document.getElementById('btn-ir-jugador').onclick = validarYCrearJugador;
};

/**
 * Lee los valores del formulario de creación, valida las restricciones
 * (nombre regex, stats no negativos, suma total &lt;= 110) e instancia al Jugador.
 * Si todo es correcto, avanza a la siguiente escena.
 */
function validarYCrearJugador() {
    const nombreInput = document.getElementById('reg-nombre').value;
    const nombre = nombreInput.trim();

    const spanNombre = document.getElementById('error-nombre');
    const spanAtaque = document.getElementById('error-ataque');   
    const spanDefensa = document.getElementById('error-defensa'); 
    const spanVida = document.getElementById('error-vida');       

    
    spanNombre.textContent = "";
    spanAtaque.textContent = "";
    spanDefensa.textContent = "";
    spanVida.textContent = "";

    const ataque = parseInt(document.getElementById('reg-ataque').value) || 0;
    const defensa = parseInt(document.getElementById('reg-defensa').value) || 0;
    const vida = parseInt(document.getElementById('reg-vida').value) || 100;

    let hayError = false;



    if (!REGEX_NOMBRE.test(nombreInput) || nombre === "") {
        spanNombre.textContent = ERROR_NOMBRE;
        hayError = true;
    }


    if (ataque &lt; 0) {
        spanAtaque.textContent = ERROR_NEGATIVO;
        hayError = true;
    }
    if (defensa &lt; 0) {
        spanDefensa.textContent = ERROR_NEGATIVO;
        hayError = true;
    }


    if (vida &lt; 100) {
        spanVida.textContent = "Mínimo 100 puntos de vida.";
        hayError = true;
    } else {

        if ((ataque + defensa + vida) > 110) {
            spanVida.textContent = ERROR_EXCESO;
            hayError = true;
        }
    }


    if (hayError) {
        return;
    }


    jugador = new Jugador(nombre, ataque, defensa, vida);

    actualizarMonederoVisual();

    cargarEscenaResumenJugador();
}

/**
 * Muestra la escena con el resumen inicial de las estadísticas del jugador.
 */
function cargarEscenaResumenJugador() {

    document.getElementById('mostrarNombre').innerText = jugador.nombre;


    const container = document.getElementById('contenedor-resumen');


    container.innerHTML =
        '&lt;div class="estadisticas-card">Ataque: ' + jugador.ataqueBase + '&lt;/div>' +
        '&lt;div class="estadisticas-card">Defensa: ' + jugador.defensaBase + '&lt;/div>' +
        '&lt;div class="estadisticas-card">Vida: ' + jugador.vidaMax + '&lt;/div>' +
        '&lt;div class="estadisticas-card">Puntos: ' + jugador.puntos + '&lt;/div>';

    showScene('escena-jugador');
    document.getElementById('btn-ir-mercado-fijo').onclick = cargarEscenaMercado;
}


/**
 * Actualiza la visualización del inventario en el DOM.
 * Rellena los huecos vacíos con las imágenes de los items pasados por parámetro.
 * @param {Array&lt;Object>} listaAMostrar - Lista de productos a renderizar.
 */
function refrescarInventarioVisual(listaAMostrar) {
    var todosLosHuecos = document.querySelectorAll('.espacio-inventario');

    for (var i = 0; i &lt; todosLosHuecos.length; i++) {
        todosLosHuecos[i].innerHTML = "";
    }

    if (listaAMostrar) {
        for (var j = 0; j &lt; listaAMostrar.length &amp;&amp; j &lt; 6; j++) {
            var productoActual = listaAMostrar[j];
            var huecoActual = todosLosHuecos[j];

            var imagenObjeto = document.createElement('img');


            imagenObjeto.src = productoActual.imagen;

            imagenObjeto.style.width = "40px";
            imagenObjeto.style.height = "40px";
            imagenObjeto.style.objectFit = "contain";

            huecoActual.appendChild(imagenObjeto);
        }
    }
}


/**
 * Wrapper para refrescar el inventario visualmente usando la cesta temporal de compra.
 * @param {Array&lt;Object>} laCesta - Array de productos actualmente en la cesta.
 */
function refrescarInventarioTemporal(laCesta) {
    refrescarInventarioVisual(laCesta);
}


/**
 * Prepara y muestra la escena del mercado.
 * - Genera una rareza aleatoria para ofertas.
 * - Aplica descuentos.
 * - Crea las tarjetas de productos en el DOM.
 */
function cargarEscenaMercado() {
    const escaparate = document.getElementById('contenedor-productos');
    if (!escaparate) return;


    escaparate.innerHTML = "";


    const rarezaEnOferta = obtenerRarezaAleatoria();


    const productosEnVenta = aplicarDescuentoPorRareza(rarezaEnOferta, 10);

    console.log("Oferta aplicada a la rareza: " + rarezaEnOferta);

    for (let i = 0; i &lt; productosEnVenta.length; i++) {
        let objeto = productosEnVenta[i];

        const tarjeta = document.createElement('div');
        tarjeta.className = 'tarjeta-producto';

        if (objeto.rareza === rarezaEnOferta) {

            objeto = objeto.aplicarDescuento(10);

            tarjeta.style.backgroundColor = "#fff3cd";
            tarjeta.style.border = "2px solid gold";
        }


        const rutaImagen = objeto.imagen;

        const precioFormateado = (objeto.precio / 100).toFixed(2).replace('.', ',') + "€";


        const precioNormal = objeto.precio;

        tarjeta.innerHTML =
            '&lt;img src="' + rutaImagen + '" alt="' + objeto.nombre + '" class="img-producto">' +
            '&lt;div class="info-producto">' +

            '&lt;p>' + objeto.mostrarProducto() + '&lt;/p>' +

            '&lt;/div>' +
            '&lt;button class="btn-primario boton-accion">Añadir&lt;/button>';

        const boton = tarjeta.querySelector('.boton-accion');

        boton.onclick = function () {
        gestionarCesta(objeto, tarjeta, boton);
    };

        escaparate.appendChild(tarjeta);
    }

    showScene('escena-mercado');
    document.getElementById('btn-confirmar-compra').onclick = confirmarCompra;
}

/**
 * Añade o quita un producto de la cesta de la compra.
 * Actualiza el dinero disponible y cambia el estado visual del botón (Añadir/Retirar).
 *
 * @param {Object} producto - El objeto del producto a gestionar.
 * @param {HTMLElement} tarjetaVisual - El elemento DOM de la tarjeta del producto.
 * @param {HTMLButtonElement} elBoton - El botón pulsado para cambiar su texto.
 */
function gestionarCesta(producto, tarjetaVisual, elBoton) {

    var yaLoTengo = false;
    for (var i = 0; i &lt; cesta.length; i++) {
        if (cesta[i] === producto) {
            yaLoTengo = true;
            break;
        }
    }

    if (yaLoTengo === false) {
        if (jugador.dinero >= producto.precio) {
            cesta.push(producto);
            jugador.dinero -= producto.precio;

            tarjetaVisual.style.backgroundColor = "orange";
            elBoton.innerText = "Retirar";

            
const icono = document.createElement('img');


icono.src = './imagenes/cart.svg'; 

icono.alt = 'Icono compra'; 
icono.className = 'carrito-flotante'; 


elBoton.appendChild(icono);


setTimeout(() => {
    icono.remove();
}, 800);

        } else {
            alert("¡No tienes oro suficiente!");
        }
    } else {

        for (var j = 0; j &lt; cesta.length; j++) {
            if (cesta[j] === producto) {
                cesta.splice(j, 1);
                break;
            }
        }

        jugador.dinero += producto.precio;
        tarjetaVisual.style.backgroundColor = "";
        elBoton.innerText = "Añadir";
    }


    document.getElementById('oro-disponible').innerText = jugador.dinero;

    actualizarMonederoVisual();

    refrescarInventarioTemporal(cesta);
}


/**
 * Confirma la compra de los objetos en la cesta.
 * Transfiere los objetos al inventario real del jugador y limpia la cesta.
 * Pasa a la escena de resumen actualizado.
 */
function confirmarCompra() {
    if (cesta.length === 0) {
        alert("No has seleccionado ningún objeto.");
        return;
    }
    for (var i = 0; i &lt; cesta.length; i++) {
        jugador.añadirItem(cesta[i]);
    }
    cesta = [];
    refrescarInventarioVisual(jugador.inventario);


    cargarEscena4();
}


/**
 * Carga la escena posterior a la compra, mostrando las estadísticas actualizadas del jugador
 * tras adquirir items (ataque total, defensa total, etc.).
 */
function cargarEscena4() {

    document.getElementById('nombre-actualizado').innerText = jugador.nombre;

    var container = document.getElementById('contenedor-resumen-actualizado');

    container.innerHTML =
        '&lt;div class="estadisticas-card">Ataque Total: ' + jugador.ataqueTotal + '&lt;/div>' +
        '&lt;div class="estadisticas-card">Defensa Total: ' + jugador.defensaTotal + '&lt;/div>' +
        '&lt;div class="estadisticas-card">Vida Total: ' + jugador.vidaTotal + '&lt;/div>' +
        '&lt;div class="estadisticas-card">Oro Restante: ' + jugador.dinero + '&lt;/div>';

    showScene('escena-jugador-actualizada');

    document.getElementById('btn-listo-combate').onclick = function () {
        cargarEscenaEnemigos();
    };
}


/**
 * Devuelve la ruta de la imagen según el nombre del enemigo.
 * @param {string} nombre - Nombre del enemigo.
 * @returns {string} Ruta al archivo de imagen.
 */
function obtenerImagenEnemigo(nombre) {
    const mapaEnemigos = {
        'Troll': './imagenes/troll.png',
        'Minotauro': './imagenes/minotauro.png',
        'Mago': './imagenes/mago.png'
    };
    return mapaEnemigos[nombre] || './imagenes/troll.png';
}


/**
 * Prepara la escena de batalla.
 * - Instancia los enemigos (Troll, Minotauro, Mago Jefe).
 * - Renderiza las tarjetas de los enemigos.
 * - Prepara el botón para iniciar el combate secuencial.
 */
function cargarEscenaEnemigos() {

    oroGanadoEnBatallas = 0;

    const contenedor = document.getElementById('contenedor-enemigos');

    contenedor.innerHTML = "";

    enemigosBatalla = [
        new Enemigo("Troll", 10, 50),
        new Enemigo("Minotauro", 15, 80),
        new JefeFinal("Mago", 30, 200, "Trueno", 1.5)
    ];


    enemigosBatalla.forEach(enemigo => {
        const div = document.createElement('div');

        div.className = "tarjeta-enemigo " + enemigo.tipo;

        const rutaImg = obtenerImagenEnemigo(enemigo.nombre);

        div.innerHTML =
            '&lt;img src="' + rutaImg + '" alt="' + enemigo.nombre + '" class="img-enemigo">' +
            '&lt;div class="info-enemigo">' +
            '&lt;p>' + enemigo.nombre + '&lt;/p>' +
            '&lt;p>' + "Ataque" + " +" + enemigo.ataque + '&lt;/p>' + 
            '&lt;/div>';

        contenedor.appendChild(div);
    });

    showScene('escena-enemigos');

    document.getElementById('btn-comenzar-combate').onclick = () => {
        indiceCombate = 0;
        ejecutarDueloSecuencial();
    };
}


/**
 * Crea un efecto visual de monedas cayendo en la pantalla.
 * Elimina los elementos DOM creados después de 1.5 segundos.
 */
function activarCascadaMonedas() {

    const monedasViejas = document.querySelectorAll('.moneda_animacion');
    monedasViejas.forEach(m => m.remove());

    const posiciones = ['25%', '50%', '75%'];



    for (let pos of posiciones) {


        let nuevaMoneda = document.createElement('img');


        nuevaMoneda.src = './imagenes/moneda.png';
        nuevaMoneda.className = 'moneda_animacion';
        nuevaMoneda.style.left = pos;


        document.body.appendChild(nuevaMoneda);
    }
    setTimeout(() => {
        const monedasActuales = document.querySelectorAll('.moneda_animacion');
        monedasActuales.forEach(m => m.remove());
    }, 1500);
}

/**
 * Ejecuta la lógica de un combate individual contra el enemigo actual (según `indiceCombate`).
 * - Llama a la función lógica de `batalla`.
 * - Actualiza el DOM con el resultado y la vida restante.
 * - Gestiona el loot (monedas y puntos) si se gana.
 * - Controla el flujo hacia el siguiente enemigo o la pantalla final.
 */
function ejecutarDueloSecuencial() {

    console.log("ATAQUE TOTAL:", jugador.ataqueTotal);
    console.log("DEFENSA TOTAL:", jugador.defensaTotal);
    console.log("VIDA TOTAL:", jugador.vidaTotal);

    const rivalActual = enemigosBatalla[indiceCombate];

    batalla(jugador, rivalActual);
    const combateFinalizadoOk = jugador.vida > 0;

    var lados = document.querySelectorAll('.luchador-lado');
    var ladoJugador = lados[0];
    var ladoEnemigo = lados[1];

    ladoJugador.classList.add('jugador-anim');
    ladoEnemigo.classList.add('enemigo-anim');
    ladoJugador.classList.remove('entrar');
    ladoEnemigo.classList.remove('entrar');

    setTimeout(function () {
        ladoJugador.classList.add('entrar');
        ladoEnemigo.classList.add('entrar');
    }, 50);


    document.getElementById('tarjeta-jugador-batalla').innerHTML =
        '&lt;img src="./imagenes/caballero.jpg" class="img-duelo">' +
        '&lt;h3>' + jugador.nombre + '&lt;/h3>' +
        '&lt;p>❤️ Vida: ' + jugador.vida + '&lt;/p>';

    const imgEnemigo = obtenerImagenEnemigo(rivalActual.nombre);
    document.getElementById('tarjeta-enemigo-batalla').innerHTML =
        '&lt;img src="' + imgEnemigo + '" class="img-duelo">' +
        '&lt;h3>' + rivalActual.nombre + '&lt;/h3>' +
        '&lt;p>❤️ Vida: ' + (rivalActual.vida &lt;= 0 ? 0 : rivalActual.vida) + '&lt;/p>';

    const areaTexto = document.getElementById('registro-batalla');
    const botonProximo = document.getElementById('btn-siguiente-batalla');

    if (combateFinalizadoOk) {
        activarCascadaMonedas();

        let botinMonedas = 5;
        if (rivalActual instanceof JefeFinal) {
            botinMonedas = 10;
        }
        jugador.dinero += botinMonedas;
        oroGanadoEnBatallas += botinMonedas;


        let puntosGanados = 100 + rivalActual.ataque;

        if (rivalActual instanceof JefeFinal &amp;&amp; rivalActual.multiplicador) {
            puntosGanados = Math.round(puntosGanados * rivalActual.multiplicador);
        }

        jugador.ganarPuntos(puntosGanados);

        areaTexto.innerHTML = '&lt;h3>¡Ganador: ' + jugador.nombre + '!&lt;/h3>' +
            '&lt;p>El ' + rivalActual.nombre + ' ha sido derrotado.&lt;/p>' +
            '&lt;p>&lt;strong>+ ' + botinMonedas + ' monedas.&lt;/strong>&lt;/p>' +
            '&lt;p>&lt;strong>+ ' + puntosGanados + ' puntos.&lt;/strong>&lt;/p>';

        if (indiceCombate &lt; enemigosBatalla.length - 1) {
            botonProximo.innerText = "Próximo Rival";
        } else {

            botonProximo.innerText = "Ver Clasificación Final";
        }
    } else {
        areaTexto.innerHTML = '&lt;h3> GAME OVER &lt;/h3>';
        botonProximo.innerText = "Ver Clasificación Final";
    }

    showScene('escena-batalla');
    botonProximo.classList.remove('oculto');

    botonProximo.onclick = () => {
        if (!combateFinalizadoOk) {
            mostrarCalificacion(false);
        } else if (indiceCombate &lt; enemigosBatalla.length - 1) {
            indiceCombate++;
            botonProximo.classList.add('oculto');
            ejecutarDueloSecuencial();
        } else {

            mostrarCalificacion(true);
        }
    };
}

/**
 * Calcula la calificación final (Pro/Rookie) y guarda el resultado en localStorage.
 * Muestra la escena con el diploma final.
 */
function mostrarCalificacion(esVictoriaTotal) {

var puntosFinalesTotales = 0;

    if (esVictoriaTotal) {
        
        puntosFinalesTotales = jugador.puntos + jugador.dinero;
    } else {
        
        puntosFinalesTotales = jugador.puntos + oroGanadoEnBatallas;
    }

    
    var esPro = puntosFinalesTotales >= 300;
    var calificacion = esPro ? 'PRO' : 'ROOKIE';

    if (esPro) {
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 }
        });
    }

    var datosPartida = {
        idNombre: jugador.nombre,
        idPuntos: puntosFinalesTotales,
        idDinero: jugador.dinero,
        idFecha: new Date().toLocaleDateString()
    };

    var almacen = JSON.parse(localStorage.getItem('ranking_final')) || [];
    almacen.push(datosPartida);
    localStorage.setItem('ranking_final', JSON.stringify(almacen));

    var zonaRango = document.getElementById('contenedorProRookie');
    zonaRango.innerHTML = '&lt;h2>Resultado Final&lt;/h2>' +
        '&lt;div class="caja-diploma">' +
        '&lt;h3>Nivel obtenido: ' + calificacion + '&lt;/h3>' +
        '&lt;p>Puntuación Total: ' + puntosFinalesTotales + '&lt;/p>' +
        '&lt;/div>' +
        '&lt;button id="btn-ir-ranking" class="btn-primario">Ver Clasificación&lt;/button>';

    showScene('escena-ProRookie');
    document.getElementById('btn-ir-ranking').onclick = mostrarRankingHistorico;
}


/**
 * Carga el historial de partidas desde localStorage, lo ordena por puntuación
 * y renderiza una tabla HTML con los resultados.
 */
function mostrarRankingHistorico() {
    var almacen = JSON.parse(localStorage.getItem('ranking_final')) || [];

    almacen.sort(function (a, b) {
        return b.idPuntos - a.idPuntos;
    });

    var zonaTabla = document.getElementById('contenedor-TablaFinal');

    var tablaHtml = '&lt;h2 class="titulo-historial">Historial de Partidas&lt;/h2>' +
        '&lt;table class="tabla-ranking">' +
        '&lt;thead>&lt;tr>&lt;th>Héroe&lt;/th>&lt;th>Puntos&lt;/th>&lt;th>Dinero&lt;/th>&lt;/tr>&lt;/thead>' +
        '&lt;tbody>';

    for (var i = 0; i &lt; almacen.length; i++) {
        var reg = almacen[i];
        tablaHtml = tablaHtml + '&lt;tr>' +
            '&lt;td>' + reg.idNombre + '&lt;/td>' +
            '&lt;td>' + reg.idPuntos + '&lt;/td>' +
            '&lt;td>' + reg.idDinero + '&lt;/td>' +

            '&lt;/tr>';
    }
    tablaHtml = tablaHtml + '&lt;/tbody>&lt;/table>';
    zonaTabla.innerHTML = tablaHtml;

    document.getElementById('btn-mostrar-consola').onclick = function () {
        console.log("--- RANKING DE JUGADORES ---");
        console.table(almacen);
    };

    document.getElementById('btn-reiniciar').onclick = function () {
        location.reload();
    };

    showScene('escena-ranking');


}


/**
 * Actualiza el contador de dinero en el header de la interfaz.
 */
function actualizarMonederoVisual() {
    const dineroAMostrar = jugador.dinero
    const dineroMostrarEuros = (jugador.dinero / 100).toFixed(2);
    document.getElementById("dineroSaco").textContent = dineroAMostrar;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Enemigo.html">Enemigo</a></li><li><a href="JefeFinal.html">JefeFinal</a></li><li><a href="Jugador.html">Jugador</a></li><li><a href="Producto.html">Producto</a></li></ul><h3>Global</h3><ul><li><a href="global.html#EUR">EUR</a></li><li><a href="global.html#REGEX_NOMBRE">REGEX_NOMBRE</a></li><li><a href="global.html#activarCascadaMonedas">activarCascadaMonedas</a></li><li><a href="global.html#actualizarMonederoVisual">actualizarMonederoVisual</a></li><li><a href="global.html#agruparPorNivel">agruparPorNivel</a></li><li><a href="global.html#aplicarDescuentoPorRareza">aplicarDescuentoPorRareza</a></li><li><a href="global.html#batalla">batalla</a></li><li><a href="global.html#buscarProducto">buscarProducto</a></li><li><a href="global.html#cargarEscena4">cargarEscena4</a></li><li><a href="global.html#cargarEscenaEnemigos">cargarEscenaEnemigos</a></li><li><a href="global.html#cargarEscenaMercado">cargarEscenaMercado</a></li><li><a href="global.html#cargarEscenaResumenJugador">cargarEscenaResumenJugador</a></li><li><a href="global.html#cesta">cesta</a></li><li><a href="global.html#confirmarCompra">confirmarCompra</a></li><li><a href="global.html#ejecutarDueloSecuencial">ejecutarDueloSecuencial</a></li><li><a href="global.html#enemigosBatalla">enemigosBatalla</a></li><li><a href="global.html#gestionarCesta">gestionarCesta</a></li><li><a href="global.html#groupBy">groupBy</a></li><li><a href="global.html#indiceCombate">indiceCombate</a></li><li><a href="global.html#jugador">jugador</a></li><li><a href="global.html#mercado">mercado</a></li><li><a href="global.html#mostrarCalificacion">mostrarCalificacion</a></li><li><a href="global.html#mostrarRanking">mostrarRanking</a></li><li><a href="global.html#mostrarRankingHistorico">mostrarRankingHistorico</a></li><li><a href="global.html#obtenerImagenEnemigo">obtenerImagenEnemigo</a></li><li><a href="global.html#obtenerRarezaAleatoria">obtenerRarezaAleatoria</a></li><li><a href="global.html#oroGanadoEnBatallas">oroGanadoEnBatallas</a></li><li><a href="global.html#refrescarInventarioTemporal">refrescarInventarioTemporal</a></li><li><a href="global.html#refrescarInventarioVisual">refrescarInventarioVisual</a></li><li><a href="global.html#showScene">showScene</a></li><li><a href="global.html#validarYCrearJugador">validarYCrearJugador</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Wed Jan 14 2026 00:24:21 GMT+0100 (hora estándar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
